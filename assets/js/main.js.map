{"version":3,"sources":["webpack:///webpack/bootstrap 98d304afa7863d1c20bc","webpack:///./src/js/lib/lightbox.js","webpack:///./src/js/lib/tabs.js","webpack:///./~/responsive-lazyload/source/scripts/responsive-lazyload.js","webpack:///./src/js/main.js"],"names":["LIGHTBOX_CLASS","LIGHTBOX_WRAPPER_CLASS","LIGHTBOX_IMG_LINK_CLASS","contentArea","document","querySelector","lightbox","addEventListener","event","target","classList","contains","link","parentNode","href","preventDefault","src","setTimeout","remove","add","onChange","tabContainer","tagName","toLowerCase","forEach","call","tabs","tab","setAttribute","panels","panel","currentTabId","split","getElementById","TAB_CONTAINER_CLASS","querySelectorAll","loadVisibleImages"],"mappings":"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CpB,YAAY,QAAQ;AACpB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,YAAY,MAAM;AAClB,YAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAY,QAAQ;AACpB,YAAY,OAAO;AACnB,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB,YAAY,SAAS;AACrB,YAAY;AACZ;AACA;AACA;AACA;AACA,qBAAqB;AACrB,CAAC,KAAK;AACN;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;;AAEA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,QAAQ,6BAA6B;AACjD;AACA,mCAA0C;AAC1C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;ACpLA;;AACA;;;;AACA;;;;;;AAEA;AACAlB,WAAW,YAAM;AACf,MAAMmB,oBAAoB,yCAA1B;;AAEA;AACA,sBAAK;AACHhB,cAAUgB;AADP,GAAL;AAGD,CAPD,EAOG,CAPH,E","file":"assets/js/main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 98d304afa7863d1c20bc","const LIGHTBOX_CLASS = 'lightbox';\nconst LIGHTBOX_WRAPPER_CLASS = 'js--lightbox';\nconst LIGHTBOX_IMG_LINK_CLASS = 'gallery__image';\n\nconst contentArea = document.querySelector(`.${LIGHTBOX_WRAPPER_CLASS}`);\nconst lightbox = document.querySelector(`.${LIGHTBOX_CLASS}`);\n\nexport default () => {\n  contentArea.addEventListener('click', (event) => {\n    if (event.target.classList.contains(LIGHTBOX_IMG_LINK_CLASS)) {\n      const link = event.target.parentNode;\n\n      if (link && link.href) {\n        event.preventDefault();\n        lightbox.querySelector(`.${LIGHTBOX_CLASS}__image`).src = link.href;\n\n        // The timeout prevents a flicker of the images changing while fading in\n        setTimeout(() => {\n          lightbox.classList.remove(`${LIGHTBOX_CLASS}--disabled`);\n        }, 50);\n      }\n    }\n  });\n\n  lightbox.addEventListener('click', (event) => {\n    if (!event.target.classList.contains(`${LIGHTBOX_CLASS}__image`)) {\n      event.preventDefault();\n      lightbox.classList.add(`${LIGHTBOX_CLASS}--disabled`);\n    }\n  });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/lib/lightbox.js","const TAB_CONTAINER_CLASS = 'js--tabs';\n\nconst tabContainer = document.querySelector(`.${TAB_CONTAINER_CLASS}`);\nconst tabs = tabContainer.querySelectorAll('a');\nconst panels = document.querySelectorAll('[aria-labelled-by^=\"tab-\"]');\n\nexport default function({ onChange = () => {} }) {\n  tabContainer.addEventListener('click', (event) => {\n    if (event.target.tagName.toLowerCase() === 'a') {\n      event.preventDefault();\n\n      // deactivate all tabs and hide all content panels\n      [].forEach.call(tabs, tab => tab.setAttribute('aria-selected', false));\n      [].forEach.call(panels, panel => panel.setAttribute('aria-hidden', true));\n\n      // activate the current tab and show the current content panel\n      event.target.setAttribute('aria-selected', true);\n\n      // show the content area that corresponds to the active tab\n      const currentTabId = event.target.href.split('#')[1];\n      document.getElementById(currentTabId).setAttribute('aria-hidden', false);\n\n      onChange();\n    }\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/lib/tabs.js","/**\n * Check if an element is visible at all in the viewport.\n *\n * It would be cool to use an IntersectionObserver here, but browser support\n * isn’t there yet: http://caniuse.com/#feat=intersectionobserver\n *\n * @param  {Element} el the element to check\n * @return {Boolean}    `true` if the element is visible at all; `false` if not\n */\nfunction isElementVisible(el) {\n  const position = el.getBoundingClientRect();\n  const wHeight = window.innerHeight || document.documentElement.clientHeight;\n\n  return (\n    (position.top >= 0 && position.top <= wHeight) ||\n    (position.bottom >= 0 && position.bottom <= wHeight)\n  );\n}\n\n/**\n * Prevents a function from firing too often.\n * @param  {Function} func  the function to throttle\n * @param  {Number}   limit the amount of milliseconds to wait between calls\n * @return {Function}       function to check if the function should be called\n */\nfunction throttle(func, limit = 200) {\n  let wait = false;\n\n  return () => {\n    if (!wait) {\n      func.call();\n      wait = true;\n      setTimeout(() => { wait = false; }, limit);\n    }\n  };\n}\n\n/**\n * Check if an image is visible and trigger an event if so.\n * @param  {Element} image the image to check\n * @param  {Event}   event an event to dispatch if the image is in the viewport\n * @return {Boolean}       true if the image is in the viewport; false if not\n */\nconst maybeTriggerImageLoad = (image, event) => {\n  if (!image.getAttribute('data-loaded') && isElementVisible(image)) {\n    image.dispatchEvent(event);\n\n    return true;\n  }\n\n  return false;\n};\n\n/**\n * Finds the image to be lazyloaded.\n * @param  {Element} container `img` element to be lazyloaded or its container\n * @return {Element}           the `img` element to be lazyloaded\n */\nconst findImageElement = (container) => {\n  const tag = container.tagName.toLowerCase();\n\n  return tag === 'img' ? container : container.querySelector('img');\n};\n\n/**\n * This almost seems too easy, but we simply swap in the correct srcset.\n * @param  {Event} event the triggered event\n * @return {Void}\n */\nconst loadImage = (event) => {\n  const image = event.target;\n\n  // Swap in the srcset info and add an attribute to prevent duplicate loads.\n  image.srcset = image.getAttribute('data-lazyload');\n  image.setAttribute('data-loaded', true);\n};\n\n/**\n * Remove the loading class from the lazyload wrapper.\n * @param  {Element} image        the image being loaded\n * @param  {String}  loadingClass the class to remove\n * @return {Void}\n */\nconst removeLoadingClass = (image, loadingClass) => {\n  let element = image;\n  let shouldReturn = false;\n\n  /*\n   * Since there may be additional elements wrapping the image (e.g. a link),\n   * we run a loop to check the image’s ancestors until we either find the\n   * element with the loading class or hit the `body` element.\n   */\n  while (element.tagName.toLowerCase() !== 'body') {\n    if (element.classList.contains(loadingClass)) {\n      element.classList.remove(loadingClass);\n      shouldReturn = true;\n    } else {\n      element = element.parentNode;\n    }\n\n    if (shouldReturn) {\n      return;\n    }\n  }\n};\n\n/**\n * Initializes the lazyloader and adds the relevant classes and handlers.\n * @param  {String}   options.containerClass the lazyloaded image wrapper\n * @param  {String}   options.loadingClass   the class that signifies loading\n * @param  {Function} options.callback       a function to fire on image load\n * @return {Void}\n */\nconst initialize = ({\n  containerClass = 'js--lazyload',\n  loadingClass = 'js--lazyload--loading',\n  callback = () => {},\n} = {}) => {\n  // Find all the containers and add the loading class.\n  const containers = document.getElementsByClassName(containerClass);\n\n  [].forEach.call(containers, (container) => {\n    container.classList.add(loadingClass);\n  });\n\n  // If we get here, `srcset` is supported and we can start processing things.\n  const images = [].map.call(containers, findImageElement);\n\n  // Create a custom event to trigger the event load.\n  const lazyLoadEvent = new Event('lazyload-init');\n\n  // Attach an onload handler to each image.\n  images.forEach((image) => {\n    /*\n     * Once the image is loaded, we want to remove the loading class so any\n     * loading animations or other effects can be disabled.\n     */\n    image.addEventListener('load', (event) => {\n      removeLoadingClass(event.target, loadingClass);\n      callback(event);\n    });\n\n    /*\n     * Set up a listener for the custom event that triggers the image load\n     * handler (which loads the image).\n     */\n    image.addEventListener('lazyload-init', loadImage);\n\n    /*\n     * Check if the image is already in the viewport. If so, load it.\n     */\n    maybeTriggerImageLoad(image, lazyLoadEvent);\n  });\n\n  /*\n   * Add an event listener when the page is scrolled. To avoid bogging down the\n   * page, we throttle this call to only run every 100ms.\n   */\n  const scrollHandler = throttle(() => {\n    images.forEach((image) => {\n      maybeTriggerImageLoad(image, lazyLoadEvent);\n    });\n  }, 100);\n  window.addEventListener('scroll', scrollHandler);\n};\n\n/**\n * The public function to initialize lazyloading\n * @param  {Object} config configuration options (see `initialize()`)\n * @return {Boolean}       `true` if initialized; `false` if not\n */\nexport function lazyLoadImages(config = {}) {\n  // If we have `srcset` support, initialize the lazyloader.\n  if ('srcset' in document.createElement('img')) {\n    initialize(config);\n  }\n}\n\nexport default {\n  lazyLoadImages,\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/responsive-lazyload/source/scripts/responsive-lazyload.js\n// module id = 2\n// module chunks = 0","import { lazyLoadImages } from 'responsive-lazyload';\nimport lightbox from './lib/lightbox';\nimport tabs from './lib/tabs';\n\n// For some reason, an IIFE doesn’t work here (or Babel breaks it).\nsetTimeout(() => {\n  const loadVisibleImages = lazyLoadImages();\n\n  lightbox();\n  tabs({\n    onChange: loadVisibleImages,\n  });\n}, 0);\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/main.js"],"sourceRoot":""}